---
layout: pr
date: 2023-03-30    
title: "router: refactor payment lifecycle"
pr: 7391
authors: [yyforyongyu]
components: ["payments", "routing"]
host: GeorgeTsagk
status: upcoming
commit:
---

## Notes

- Reviewing [PR #7175](https://github.com/lightningnetwork/lnd/pull/7175) is not mandatory, but will provide more context.
- Requires a high-level understanding of how a payment makes use of HTLCs.
- MPP: https://docs.lightning.engineering/the-lightning-network/pathfinding/multipath-payments-mpp
- AMP: https://docs.lightning.engineering/lightning-network-tools/lnd/amp

## Questions

* Did you review the PR and, whatâ€™s your overall verdict? (ACK, NACK, concept ACK, unknown)
* Which should go first, write the specs or write the code? And why?
* What are the benefits of Simple Taproot Channels?
* What is an anchor output and what is it used for?
* What is the issue of the current design of anchor output script in the PR?
* Can you think a different design for the anchor output?